"use strict";(self.webpackChunkJamii=self.webpackChunkJamii||[]).push([[821],{28821:function(e,n,t){t.r(n),t.d(n,{ControlVikoba:function(){return b}});var i=t(74165),a=t(15861),r=t(29439),o=t(40589),s=t(68886),l=t(48490),c=t(43110),u=t(87309),d=t(66106),m=t(30914),f=t(44322),h=t(38590),p=t(49998),x=t(72791),g=t(6343),k=t(31425),Z=t(72426),j=t.n(Z),v=t(80184),b=function(e){var n=(0,x.useState)([]),t=(0,r.Z)(n,2),Z=t[0],b=t[1],y=(0,x.useState)(),S=(0,r.Z)(y,2),w=S[0],D=S[1],C=(0,x.useState)(0),F=(0,r.Z)(C,2),M=F[0],I=F[1],Y=(0,x.useState)(25),N=(0,r.Z)(Y,2),z=N[0],P=N[1],A=(0,x.useState)(1),B=(0,r.Z)(A,2),E=B[0],J=B[1],L=(0,x.useState)(!0),R=(0,r.Z)(L,2),U=(R[0],R[1]),V=(0,x.useState)(!1),q=(0,r.Z)(V,2),K=q[0],O=q[1],T=l.Z.useForm(),G=(0,r.Z)(T,1)[0],H=(0,s.RU)(),Q=(0,s.kS)({v3LegacyAuthProviderCompatible:Boolean(null===H||void 0===H?void 0:H.isLegacy)}).data,W=!c.ZP.useBreakpoint().lg,X=[{title:"Name",dataIndex:"name",key:"name",fixed:!0},{title:"Kikoba #",dataIndex:"kikobaNumber",key:"kikobaNumber",render:function(e,n,t){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("span",{children:n.registrationNumber})})}},{title:"Members",dataIndex:"totalMembers",key:"totalMembers",render:function(e,n,t){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("span",{children:n.totalMembers})})}},{title:"Region/District",dataIndex:"region",key:"region",render:function(e,n,t){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("span",{children:[n.region.name,"/",n.district.name]})})}},{title:"start Date - End Date",dataIndex:"region",key:"region",render:function(e,n,t){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("span",{children:[j()(n.startDate).format("MM/DD/YYYY")," -"," ",j()(n.endDate).format("MM/DD/YYY")]})})}},{title:"",dataIndex:"actions",key:"actions",render:function(e,n,t){return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.ZP,{type:"primary",size:"small",onClick:function(){!function(e){D(e),O(!0)}(n)},style:{float:"right"},children:"View"})})}}],$=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var t,a,r,o,s=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:"",a=s.length>2&&void 0!==s[2]?s[2]:25,U(!0),e.next=5,g.Z.custom({url:k.Z.apiUrl+"/kikobas/all?page=".concat(n,"&limit=").concat(a,"&q=").concat(t),method:"get"}).then((function(e){return e})).catch((function(e){return{data:null}}));case 5:r=e.sent,(o=r.data)&&(I(o.pagination.total),J(o.pagination.page),P(o.pagination.limit),b(o.data)),U(!1);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,x.useEffect)((function(){!1===((null===Q||void 0===Q?void 0:Q.isAdmin)||(null===Q||void 0===Q?void 0:Q.isStaff))&&(window.location.href="/"),$(1)}),[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(d.Z,{style:{marginTop:10},children:(0,v.jsx)(m.Z,{span:W?24:12,children:(0,v.jsx)(l.Z,{layout:"vertical",form:G,onFinish:function(e){},children:(0,v.jsx)(l.Z.Item,{name:"key",children:(0,v.jsx)(f.Z,{size:"large",placeholder:"Search ...",prefix:(0,v.jsx)(o.Z,{}),autoComplete:"off",allowClear:!0})})})})}),(0,v.jsx)(h.Z,{size:"small",dataSource:Z,columns:X,scroll:{x:!0},pagination:{total:M,pageSize:z,current:E}}),(0,v.jsxs)(p.Z,{title:(null===w||void 0===w?void 0:w.name)+" - "+(null===w||void 0===w?void 0:w.registrationNumber)+" Details",width:"90vw",open:K,onOk:function(){O(!1)},onCancel:function(){O(!1)},footer:[],children:[(0,v.jsx)("p",{children:"Some contents..."}),(0,v.jsx)("p",{children:"Some contents..."}),(0,v.jsx)("p",{children:"Some contents..."})]})]})}}}]);
//# sourceMappingURL=821.817fb433.chunk.js.map